# 고급 프로젝트 협업 일지 (1팀 박은서)

## 오늘 할 일
* votes, hackle 활용해서 마스터 테이블 완성하기
## 오늘 한 일
* votes, hackle 활용해서 마스터 테이블 완성하기
> hackle 부분은 종헌님이 보고계셔서, 나는 기존에 만들었던 votes 테이블들의 파생 변수와 기존 변수를 만들거나
## 내일 할 일
* 모델링 돌려보기
* 모델 개선하려면 어떤 부분 디벨롭 해야할지 팀원들과 의견 나누기
## Codes
```ruby
# 기준 테이블 id -> user_id 변경
user = user.rename(columns={'id': 'user_id'})


# 병합할 테이블들와 가져올 컬럼, 그리고 조인 키 지정
tables_to_merge = [
    (blockrecord, 'user_id', ['block_cnt', 'block_any']),
    (blocked, 'block_user_id', ['blocked_any']),
    (paymenthis, 'user_id', ['pay_cnt', 'phone_type', 'productId']),
    (questionrpt, 'user_id', ['question_rep_any']),
    (candidate, 'user_id', ['cand_any']),
    (attendance, 'user_id', ['attendance_cnt'])
]

for df, key, cols in tables_to_merge:
    cols_to_select = [c for c in cols if c != key]
    temp = df[[key] + cols_to_select].drop_duplicates(subset=[key])

    # key가 user_id가 아니면 컬럼명 변경
    if key != 'user_id':
        temp = temp.rename(columns={key: 'user_id'})
        merge_key = 'user_id'
    else:
        merge_key = 'user_id'

    user = user.merge(temp, on=merge_key, how='left')

# 숫자형만 결측치 생기면 0으로 채우기
num_cols = user.select_dtypes(include=['number']).columns
user[num_cols] = user[num_cols].fillna(0)

user.head()
```
## Issues & Challenges
* 문제 :
## Notes & Ideas
* 아이디어 : 
## Reflection
* 좋았던 점 : 
* 아쉬웠던 점 : 
