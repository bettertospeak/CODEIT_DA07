# 초급 프로젝트 협업 일지 (2팀 박은서)

## 오늘 할 일
* 통합 시트 열차 혼잡도 분석 목적, 데이터 전처리 과정 작성 및 보강
* 솔루션 부분을 좀더 강화하기
## 오늘 한 일
* 통합 시트 열차 혼잡도 분석 목적, 데이터 전처리 과정 작성 및 보강
> 열차 혼잡도 분석 목적은 지하철 이용객 인터뷰를 인용한 신문 기사를 활용하여 조사에 타당성을 부여할 수 있는 방향으로 작성함. 1-8호선 혼잡도 데이터 조건별 추출 및 활용 현황, 역사 혼잡도 추정 과정 역시 보강하여 작성함.
* 솔루션 부분을 좀더 강화하기
> 본인이 분석한 열차의 설계적 한계 관련 내용 뿐만 아니라 다른 요인들에도 함께 적용될 수 있는 솔루션이 있는지, 멘토님이 주신 아이디어인 공유 자전거 데이터 EDA를 진행하고 태블로로 시각화한 내용을 팀원들과 공유함. 하지만 대체 교통수단으로 공유 자전거를 제시하는 것에는 무리가 있다는 다수의 의견 하에 솔루션까지 연결하지는 않기로 함.
* 편의시설 (엘리베이터) 관련 주제 방향 재설정하고 분석하기
> 기존의 주제로 분석되어있는 내용이 없는 관계로 EDA 내용만을 활용하여 주제를 새로 선정하고 분석을 보조함. 기존에 1개월 자료 평균 내 표본을 1개 역만 선택했던 것을, 1년 자료 평균 내 표본 10개 역이 함께 지나는 2호선, 즉 구간 단위로 보고 분석하는 것으로 대상을 변경함. 또한 기존에 분석 없이 역사의 구조를 살펴 엘리베이터 추가 설치 위치를 보던 것에서 취약계층 승하차인구의 엘리베이터 수용이 혼잡도에 얼마나 영향을 미치는지 보고, 이에 따라 엘리베이터의 추가 또는 재배치가 고려되는 사항인지 살피는 것으로 변경함.
## 내일 할 일
* 오늘 추출해놓은 전체 승하차인구, 노인 승하차인구 데이터 바탕으로 엘리베이터 설치 현황 데이터 비교분석
* (가능하다면...) 최종 결론 도출 ㅠㅠ
## Codes
```ruby
# 2023년 전체 데이터 추출
pas_df = pas_df[pas_df['사용월'].astype(str).str.contains('202304', na=False)]
pas_df.head(3)

# 2023년 전체 대상 오전/오후 러시아워 승하차 인원 더함
pas_df['rush_count'] = pas_df[['07시-08시 승차인원', '07시-08시 하차인원',
                                '08시-09시 승차인원', '08시-09시 하차인원','17시-18시 승차인원',
                                '17시-18시 하차인원', '18시-19시 승차인원', '18시-19시 하차인원']].sum(axis=1)
pas_df.set_index('사용월').head(3)

# 상위 10개 역 및 호선 추출
# 2호선의 승하차인구가 많은 것으로 파악, 포함된 역들을 대상으로 분석 진행
pas_df.sort_values(by='rush_count', ascending=False).drop_duplicates(subset=['rush_count'], keep='first').head(10)[['지하철역', '호선명']]

rush = ['07-08시간대', '08-09시간대', '17-18시간대', '18-19시간대']

# 2023년 데이터 추출을 위해 수송일자 datetime 변환
elder_df['수송일자'] = pd.to_datetime(elder_df['수송일자'])
#elder_df.dtypes

# 2023년 데이터 추출
elder_df_2023 = elder_df.loc[(elder_df['수송일자'] >= '2023-01') & (elder_df['수송일자'] < '2024-01')]

# 2023년 데이터 중 대상인 2호선 역만 추출
line_2 = ['강남', '잠실(송파구청)', '구로디지털단지', '역삼', '삼성(무역센터)', '선릉', '을지로입구', '홍대입구', '신림']
elder_df_2023 = elder_df[elder_df['역명'].isin(line_2)]
elder_df_2023 = (
    elder_df_2023.groupby(['역번호', '역명'])[rush]
    .sum()
)

elder_df_2023['total_count'] = elder_df_2023.sum(axis=1)
elder_df_2023
#elder_df.sort_values(by = "total_count", ascending = False).head(10)

# 2023년 대상인 2호선 역들의 노인 승하차 인구 합산 데이터
elder_df_2023_total = elder_df_2023.groupby('역명')['total_count'].sum().reset_index()
elder_df_2023_total
```
## Issues & Challenges
* 문제 : 사실 오늘은... 내가 분석했던 내용은 솔루션까지 얼추 정리되었던지라 다른 팀원들의 분석 상태를 점검하며 문제를 해결하는 것이 문제였다. EDA 말고는 진행되어있는 분석이 없었다보니 분석 보조 데이터부터 다시 선정하여 하루 반나절 안에 분석을 마쳐야 한다는 부담감이 있다. 그러나 팀원들이 이러한 위기 관리 측면에서 내린 결정 속에서 각자 자신이 할 수 있는 일을 찾으려고 노력해줘서 이 상황을 차분히 헤쳐나갈 수 있을 것 같다.
## Notes & Ideas
* 아이디어 1 : 불가피하게 주제를 새로 선정하게 되면서 또 한번 편견에서 벗어나게 된 것 같다. 큰 영향을 주는 요인을 찾는 것에만 집중할 것이 아니라, 영향이 미미하더라도 구조적으로 어떠한 인사이트를 얻는 과정에 접근할 수 있는 주제가 좋은 연구 주제라는 것!
## Reflection
* 좋았던 점 : 어려운 상황을 긍정적으로 인식하고 함께 해결해나가기 위해 도와주는 팀원들이 있어 힘이 났다.
* 아쉬운 점 : 팀장으로서 할 일이 많았다보니 팀원들의 분석 과정을 관리해주지 못해 분석 자체가 이루어지지 않았던 부분을 오늘 확인했다 ㅠㅠ... 조금 더 세세하게 살폈어야 했는데 싶어서 아쉬운 마음이 든다.
